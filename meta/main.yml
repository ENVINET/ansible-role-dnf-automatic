---
galaxy_info:
  author: Jannik Vieten
  description: This role installs, configures and activates dnf-automatic via Ansible on hosts which use the dnf package manager.
  license: MIT
  min_ansible_version: 2.0
  platforms:
    - name: EL
      versions:
      - 7
      - 8
    - name: Fedora
      versions:
      - all
  galaxy_tags:
    - dnf
    - automatic
    - updates
    - security
    - packaging
    - system

dependencies:
  - role: vlcty.systemd-timers
    timers:
      dnf-automatic-reboot:
        timer_command: "{{ dnf_automatic_reboot_script }}"
        timer_OnCalendar: "{{ dnf_automatic_reboot_time }}"
    when: dnf_automatic_reboot
